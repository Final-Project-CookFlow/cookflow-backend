{"name": "test_recipe_ingredient_serializer_create", "status": "failed", "statusDetails": {"message": "AssertionError: assert not True\n +  where True = is_valid()\n +    where is_valid = RecipeIngredientSerializer(data={'recipe': 43, 'quantity': 500}):\\n    id = IntegerField(label='ID', read_only=True)\\n  ...er(read_only=True):\\n        name = CharField(read_only=True)\\n        unit_type = PrimaryKeyRelatedField(read_only=True).is_valid", "trace": "self = <recipes.tests.test_serializers.TestRecipeIngredientSerializers object at 0x0000021609A542D0>\nsetup_recipe_ingredient_serializer_data = {'ingredient': <Ingredient: Test Ingred RI S>, 'recipe': <Recipe: Test Recipe RI S>, 'recipe_ingredient': <RecipeIngredient: 250 mlRI S of Test Ingred RI S for Test Recipe RI S>, 'unit': <Unit: Unit object (215)>, ...}\n\n    def test_recipe_ingredient_serializer_create(self, setup_recipe_ingredient_serializer_data):\n        \"\"\"Tests RecipeIngredientSerializer can create a new RecipeIngredient.\"\"\"\n        # For creation, ingredient and unit are expected as PrimaryKeyRelatedFields\n        # since they are not read_only in the default serializer for creating\n        # (they are read_only for serialization only when nested).\n    \n        # Test 1: RecipeIngredientSerializer is set up such that 'ingredient' and 'unit'\n        # are nested read_only serializers. This means they cannot be written to directly.\n        # So, attempts to create with ingredient/unit IDs directly should fail validation\n        # or require them to be already existing instances via primary keys.\n    \n        # Correct behavior for RecipeIngredientSerializer (nested read_only for ingredient/unit):\n        # When creating, if ingredient/unit are nested read-only, they should NOT be in the data for creation.\n        # The RecipeIngredient model expects ingredient and unit FKs.\n        # The serializer *as written* makes ingredient and unit fields read-only for input also.\n        # This means, for writing, they are not expected in `data`.\n    \n        new_recipe = baker.make(Recipe, name='New RI Recipe', user_id=setup_recipe_ingredient_serializer_data['user'], duration_minutes=10, commensals=1)\n        new_quantity = 500\n    \n        # Attempt to create with only writable fields\n        data_create = {\n            'recipe': new_recipe.id,\n            'quantity': new_quantity\n            # 'ingredient' and 'unit' are read_only fields in RecipeIngredientSerializer\n            # You cannot pass their IDs directly for creation/update if they are nested and read_only\n        }\n    \n        serializer_create = RecipeIngredientSerializer(data=data_create)\n    \n        # EXPECTATION: This will fail validation because 'ingredient' and 'unit' are required FKs\n        # in the model but are read_only (nested) in the serializer, preventing them from being\n        # accepted as input.\n>       assert not serializer_create.is_valid()\nE       AssertionError: assert not True\nE        +  where True = is_valid()\nE        +    where is_valid = RecipeIngredientSerializer(data={'recipe': 43, 'quantity': 500}):\\n    id = IntegerField(label='ID', read_only=True)\\n  ...er(read_only=True):\\n        name = CharField(read_only=True)\\n        unit_type = PrimaryKeyRelatedField(read_only=True).is_valid\n\nrecipes\\tests\\test_serializers.py:358: AssertionError"}, "description": "Tests RecipeIngredientSerializer can create a new RecipeIngredient.", "start": 1749833137851, "stop": 1749833137856, "uuid": "0a908c82-4340-4bee-a5c9-380e205cb36c", "historyId": "ffbdb62b41b4c342db5b0aea32fbc51b", "testCaseId": "ffbdb62b41b4c342db5b0aea32fbc51b", "fullName": "recipes.tests.test_serializers.TestRecipeIngredientSerializers#test_recipe_ingredient_serializer_create", "labels": [{"name": "tag", "value": "recipes_app"}, {"name": "tag", "value": "serializers"}, {"name": "tag", "value": "django_db"}, {"name": "parentSuite", "value": "recipes.tests"}, {"name": "suite", "value": "test_serializers"}, {"name": "subSuite", "value": "TestRecipeIngredientSerializers"}, {"name": "host", "value": "Pincho"}, {"name": "thread", "value": "20656-MainThread"}, {"name": "framework", "value": "pytest"}, {"name": "language", "value": "cpython3"}, {"name": "package", "value": "recipes.tests.test_serializers"}]}